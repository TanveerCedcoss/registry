{
  "description": "When an [issued card](https://stripe.com/docs/issuing) is used to make a purchase, an Issuing `Authorization`\nobject is created. [Authorizations](https://stripe.com/docs/issuing/purchases/authorizations) must be approved for the\npurchase to be completed successfully.\n\nRelated guide: [Issued Card Authorizations](https://stripe.com/docs/issuing/purchases/authorizations).",
  "properties": {
    "amount": {
      "description": "The total amount that was authorized or rejected. This amount is in the card's currency and in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
      "type": "integer"
    },
    "amount_details": {
      "anyOf": [
        {
          "description": "",
          "properties": {
            "atm_fee": {
              "description": "The fee charged by the ATM for the cash withdrawal.",
              "nullable": true,
              "type": "integer"
            }
          },
          "title": "IssuingAuthorizationAmountDetails",
          "type": "object",
          "x-expandableFields": []
        }
      ],
      "description": "Detailed breakdown of amount components. These amounts are denominated in `currency` and in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
      "nullable": true
    },
    "approved": {
      "description": "Whether the authorization has been approved.",
      "type": "boolean"
    },
    "authorization_method": {
      "description": "How the card details were provided.",
      "enum": [
        "chip",
        "contactless",
        "keyed_in",
        "online",
        "swipe"
      ],
      "type": "string"
    },
    "balance_transactions": {
      "description": "List of balance transactions associated with this authorization.",
      "items": {
        "$ref": "#/components/schemas/balance_transaction"
      },
      "type": "array"
    },
    "card": {
      "$ref": "#/components/schemas/issuing.card"
    },
    "cardholder": {
      "anyOf": [
        {
          "maxLength": 5000,
          "type": "string"
        },
        {
          "$ref": "#/components/schemas/issuing.cardholder"
        }
      ],
      "description": "The cardholder to whom this authorization belongs.",
      "nullable": true,
      "x-expansionResources": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/issuing.cardholder"
          }
        ]
      }
    },
    "created": {
      "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
      "format": "unix-time",
      "type": "integer"
    },
    "currency": {
      "description": "Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).",
      "type": "string"
    },
    "id": {
      "description": "Unique identifier for the object.",
      "maxLength": 5000,
      "type": "string"
    },
    "livemode": {
      "description": "Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.",
      "type": "boolean"
    },
    "merchant_amount": {
      "description": "The total amount that was authorized or rejected. This amount is in the `merchant_currency` and in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
      "type": "integer"
    },
    "merchant_currency": {
      "description": "The currency that was presented to the cardholder for the authorization. Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).",
      "type": "string"
    },
    "merchant_data": {
      "description": "",
      "properties": {
        "category": {
          "description": "A categorization of the seller's type of business. See our [merchant categories guide](https://stripe.com/docs/issuing/merchant-categories) for a list of possible values.",
          "maxLength": 5000,
          "type": "string"
        },
        "category_code": {
          "description": "The merchant category code for the seller’s business",
          "maxLength": 5000,
          "type": "string"
        },
        "city": {
          "description": "City where the seller is located",
          "maxLength": 5000,
          "nullable": true,
          "type": "string"
        },
        "country": {
          "description": "Country where the seller is located",
          "maxLength": 5000,
          "nullable": true,
          "type": "string"
        },
        "name": {
          "description": "Name of the seller",
          "maxLength": 5000,
          "nullable": true,
          "type": "string"
        },
        "network_id": {
          "description": "Identifier assigned to the seller by the card brand",
          "maxLength": 5000,
          "type": "string"
        },
        "postal_code": {
          "description": "Postal code where the seller is located",
          "maxLength": 5000,
          "nullable": true,
          "type": "string"
        },
        "state": {
          "description": "State where the seller is located",
          "maxLength": 5000,
          "nullable": true,
          "type": "string"
        }
      },
      "required": [
        "category",
        "category_code",
        "network_id"
      ],
      "title": "IssuingAuthorizationMerchantData",
      "type": "object",
      "x-expandableFields": []
    },
    "metadata": {
      "additionalProperties": {
        "maxLength": 500,
        "type": "string"
      },
      "description": "Set of [key-value pairs](https://stripe.com/docs/api/metadata) that you can attach to an object. This can be useful for storing additional information about the object in a structured format.",
      "type": "object"
    },
    "object": {
      "description": "String representing the object's type. Objects of the same type share the same value.",
      "enum": [
        "issuing.authorization"
      ],
      "type": "string"
    },
    "pending_request": {
      "anyOf": [
        {
          "description": "",
          "properties": {
            "amount": {
              "description": "The additional amount Stripe will hold if the authorization is approved, in the card's [currency](https://stripe.com/docs/api#issuing_authorization_object-pending-request-currency) and in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
              "type": "integer"
            },
            "amount_details": {
              "anyOf": [
                {
                  "description": "",
                  "properties": {
                    "atm_fee": {
                      "description": "The fee charged by the ATM for the cash withdrawal.",
                      "nullable": true,
                      "type": "integer"
                    }
                  },
                  "title": "IssuingAuthorizationAmountDetails",
                  "type": "object",
                  "x-expandableFields": []
                }
              ],
              "description": "Detailed breakdown of amount components. These amounts are denominated in `currency` and in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
              "nullable": true
            },
            "currency": {
              "description": "Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).",
              "type": "string"
            },
            "is_amount_controllable": {
              "description": "If set `true`, you may provide [amount](https://stripe.com/docs/api/issuing/authorizations/approve#approve_issuing_authorization-amount) to control how much to hold for the authorization.",
              "type": "boolean"
            },
            "merchant_amount": {
              "description": "The amount the merchant is requesting to be authorized in the `merchant_currency`. The amount is in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
              "type": "integer"
            },
            "merchant_currency": {
              "description": "The local currency the merchant is requesting to authorize.",
              "type": "string"
            }
          },
          "required": [
            "amount",
            "currency",
            "is_amount_controllable",
            "merchant_amount",
            "merchant_currency"
          ],
          "title": "IssuingAuthorizationPendingRequest",
          "type": "object",
          "x-expandableFields": [
            "amount_details"
          ]
        }
      ],
      "description": "The pending authorization request. This field will only be non-null during an `issuing_authorization.request` webhook.",
      "nullable": true
    },
    "request_history": {
      "description": "History of every time `pending_request` was approved/denied, either by you directly or by Stripe (e.g. based on your `spending_controls`). If the merchant changes the authorization by performing an [incremental authorization](https://stripe.com/docs/issuing/purchases/authorizations), you can look at this field to see the previous requests for the authorization.",
      "items": {
        "description": "",
        "properties": {
          "amount": {
            "description": "The `pending_request.amount` at the time of the request, presented in your card's currency and in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal). Stripe held this amount from your account to fund the authorization if the request was approved.",
            "type": "integer"
          },
          "amount_details": {
            "anyOf": [
              {
                "description": "",
                "properties": {
                  "atm_fee": {
                    "description": "The fee charged by the ATM for the cash withdrawal.",
                    "nullable": true,
                    "type": "integer"
                  }
                },
                "title": "IssuingAuthorizationAmountDetails",
                "type": "object",
                "x-expandableFields": []
              }
            ],
            "description": "Detailed breakdown of amount components. These amounts are denominated in `currency` and in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
            "nullable": true
          },
          "approved": {
            "description": "Whether this request was approved.",
            "type": "boolean"
          },
          "created": {
            "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
            "format": "unix-time",
            "type": "integer"
          },
          "currency": {
            "description": "Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).",
            "maxLength": 5000,
            "type": "string"
          },
          "merchant_amount": {
            "description": "The `pending_request.merchant_amount` at the time of the request, presented in the `merchant_currency` and in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal).",
            "type": "integer"
          },
          "merchant_currency": {
            "description": "The currency that was collected by the merchant and presented to the cardholder for the authorization. Three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html), in lowercase. Must be a [supported currency](https://stripe.com/docs/currencies).",
            "maxLength": 5000,
            "type": "string"
          },
          "reason": {
            "description": "The reason for the approval or decline.",
            "enum": [
              "account_disabled",
              "card_active",
              "card_inactive",
              "cardholder_inactive",
              "cardholder_verification_required",
              "insufficient_funds",
              "not_allowed",
              "spending_controls",
              "suspected_fraud",
              "verification_failed",
              "webhook_approved",
              "webhook_declined",
              "webhook_timeout"
            ],
            "type": "string",
            "x-stripeBypassValidation": true
          }
        },
        "required": [
          "amount",
          "approved",
          "created",
          "currency",
          "merchant_amount",
          "merchant_currency",
          "reason"
        ],
        "title": "IssuingAuthorizationRequest",
        "type": "object",
        "x-expandableFields": [
          "amount_details"
        ]
      },
      "type": "array"
    },
    "status": {
      "description": "The current status of the authorization in its lifecycle.",
      "enum": [
        "closed",
        "pending",
        "reversed"
      ],
      "type": "string"
    },
    "transactions": {
      "description": "List of [transactions](https://stripe.com/docs/api/issuing/transactions) associated with this authorization.",
      "items": {
        "$ref": "#/components/schemas/issuing.transaction"
      },
      "type": "array"
    },
    "verification_data": {
      "description": "",
      "properties": {
        "address_line1_check": {
          "description": "Whether the cardholder provided an address first line and if it matched the cardholder’s `billing.address.line1`.",
          "enum": [
            "match",
            "mismatch",
            "not_provided"
          ],
          "type": "string"
        },
        "address_postal_code_check": {
          "description": "Whether the cardholder provided a postal code and if it matched the cardholder’s `billing.address.postal_code`.",
          "enum": [
            "match",
            "mismatch",
            "not_provided"
          ],
          "type": "string"
        },
        "cvc_check": {
          "description": "Whether the cardholder provided a CVC and if it matched Stripe’s record.",
          "enum": [
            "match",
            "mismatch",
            "not_provided"
          ],
          "type": "string"
        },
        "expiry_check": {
          "description": "Whether the cardholder provided an expiry date and if it matched Stripe’s record.",
          "enum": [
            "match",
            "mismatch",
            "not_provided"
          ],
          "type": "string"
        }
      },
      "required": [
        "address_line1_check",
        "address_postal_code_check",
        "cvc_check",
        "expiry_check"
      ],
      "title": "IssuingAuthorizationVerificationData",
      "type": "object",
      "x-expandableFields": []
    },
    "wallet": {
      "description": "The digital wallet used for this authorization. One of `apple_pay`, `google_pay`, or `samsung_pay`.",
      "maxLength": 5000,
      "nullable": true,
      "type": "string"
    }
  },
  "required": [
    "amount",
    "approved",
    "authorization_method",
    "balance_transactions",
    "card",
    "created",
    "currency",
    "id",
    "livemode",
    "merchant_amount",
    "merchant_currency",
    "merchant_data",
    "metadata",
    "object",
    "request_history",
    "status",
    "transactions",
    "verification_data"
  ],
  "title": "IssuingAuthorization",
  "type": "object",
  "x-expandableFields": [
    "amount_details",
    "balance_transactions",
    "card",
    "cardholder",
    "merchant_data",
    "pending_request",
    "request_history",
    "transactions",
    "verification_data"
  ],
  "x-resourceId": "issuing.authorization"
}