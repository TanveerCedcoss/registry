{
  "description": "A phase describes the plans, coupon, and trialing status of a subscription for a predefined time period.",
  "properties": {
    "add_invoice_items": {
      "description": "A list of prices and quantities that will generate invoice items appended to the first invoice for this phase.",
      "items": {
        "description": "An Add Invoice Item describes the prices and quantities that will be added as pending invoice items when entering a phase.",
        "properties": {
          "price": {
            "anyOf": [
              {
                "maxLength": 5000,
                "type": "string"
              }
            ],
            "description": "ID of the price used to generate the invoice item."
          },
          "quantity": {
            "description": "The quantity of the invoice item.",
            "type": [
              "integer",
              "null"
            ]
          },
          "tax_rates": {
            "description": "The tax rates which apply to the item. When set, the `default_tax_rates` do not apply to this item.",
            "items": {
              "description": "Tax rates can be applied to [invoices](https://stripe.com/docs/billing/invoices/tax-rates), [subscriptions](https://stripe.com/docs/billing/subscriptions/taxes) and [Checkout Sessions](https://stripe.com/docs/payments/checkout/set-up-a-subscription#tax-rates) to collect tax.\n\nRelated guide: [Tax Rates](https://stripe.com/docs/billing/taxes/tax-rates).",
              "properties": {
                "active": {
                  "description": "Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.",
                  "type": "boolean"
                },
                "country": {
                  "description": "Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).",
                  "maxLength": 5000,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "created": {
                  "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
                  "format": "unix-time",
                  "type": "integer"
                },
                "description": {
                  "description": "An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.",
                  "maxLength": 5000,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "display_name": {
                  "description": "The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.",
                  "maxLength": 5000,
                  "type": "string"
                },
                "id": {
                  "description": "Unique identifier for the object.",
                  "maxLength": 5000,
                  "type": "string"
                },
                "inclusive": {
                  "description": "This specifies if the tax rate is inclusive or exclusive.",
                  "type": "boolean"
                },
                "jurisdiction": {
                  "description": "The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.",
                  "maxLength": 5000,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "livemode": {
                  "description": "Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.",
                  "type": "boolean"
                },
                "metadata": {},
                "object": {
                  "description": "String representing the object's type. Objects of the same type share the same value.",
                  "enum": [
                    "tax_rate"
                  ],
                  "type": "string"
                },
                "percentage": {
                  "description": "This represents the tax rate percent out of 100.",
                  "type": "number"
                },
                "state": {
                  "description": "[ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2:US), without country prefix. For example, \"NY\" for New York, United States.",
                  "maxLength": 5000,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "tax_type": {
                  "description": "The high-level tax type, such as `vat` or `sales_tax`.",
                  "enum": [
                    "gst",
                    "hst",
                    "jct",
                    "pst",
                    "qst",
                    "rst",
                    "sales_tax",
                    "vat",
                    null
                  ],
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "active",
                "created",
                "display_name",
                "id",
                "inclusive",
                "livemode",
                "object",
                "percentage"
              ],
              "title": "TaxRate",
              "type": "object"
            },
            "type": [
              "array",
              "null"
            ]
          }
        },
        "required": [
          "price"
        ],
        "title": "SubscriptionScheduleAddInvoiceItem",
        "type": "object"
      },
      "type": "array"
    },
    "application_fee_percent": {
      "description": "A non-negative decimal between 0 and 100, with at most two decimal places. This represents the percentage of the subscription invoice subtotal that will be transferred to the application owner's Stripe account during this phase of the schedule.",
      "type": [
        "number",
        "null"
      ]
    },
    "automatic_tax": {
      "description": "",
      "properties": {
        "enabled": {
          "description": "Whether Stripe automatically computes tax on invoices created during this phase.",
          "type": "boolean"
        }
      },
      "required": [
        "enabled"
      ],
      "title": "SchedulesPhaseAutomaticTax",
      "type": "object"
    },
    "billing_cycle_anchor": {
      "description": "Possible values are `phase_start` or `automatic`. If `phase_start` then billing cycle anchor of the subscription is set to the start of the phase when entering the phase. If `automatic` then the billing cycle anchor is automatically modified as needed when entering the phase. For more information, see the billing cycle [documentation](https://stripe.com/docs/billing/subscriptions/billing-cycle).",
      "enum": [
        "automatic",
        "phase_start",
        null
      ],
      "type": [
        "string",
        "null"
      ]
    },
    "billing_thresholds": {
      "anyOf": [
        {
          "description": "",
          "properties": {
            "amount_gte": {
              "description": "Monetary threshold that triggers the subscription to create an invoice",
              "type": [
                "integer",
                "null"
              ]
            },
            "reset_billing_cycle_anchor": {
              "description": "Indicates if the `billing_cycle_anchor` should be reset when a threshold is reached. If true, `billing_cycle_anchor` will be updated to the date/time the threshold was last reached; otherwise, the value will remain unchanged. This value may not be `true` if the subscription contains items with plans that have `aggregate_usage=last_ever`.",
              "type": [
                "boolean",
                "null"
              ]
            }
          },
          "title": "SubscriptionBillingThresholds",
          "type": "object"
        },
        {
          "type": "null"
        }
      ],
      "description": "Define thresholds at which an invoice will be sent, and the subscription advanced to a new billing period"
    },
    "collection_method": {
      "description": "Either `charge_automatically`, or `send_invoice`. When charging automatically, Stripe will attempt to pay the underlying subscription at the end of each billing cycle using the default source attached to the customer. When sending an invoice, Stripe will email your customer an invoice with payment instructions.",
      "enum": [
        "charge_automatically",
        "send_invoice",
        null
      ],
      "type": [
        "string",
        "null"
      ]
    },
    "coupon": {
      "anyOf": [
        {
          "maxLength": 5000,
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "description": "ID of the coupon to use during this phase of the subscription schedule."
    },
    "default_payment_method": {
      "anyOf": [
        {
          "maxLength": 5000,
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "description": "ID of the default payment method for the subscription schedule. It must belong to the customer associated with the subscription schedule. If not set, invoices will use the default payment method in the customer's invoice settings."
    },
    "default_tax_rates": {
      "description": "The default tax rates to apply to the subscription during this phase of the subscription schedule.",
      "items": {
        "description": "Tax rates can be applied to [invoices](https://stripe.com/docs/billing/invoices/tax-rates), [subscriptions](https://stripe.com/docs/billing/subscriptions/taxes) and [Checkout Sessions](https://stripe.com/docs/payments/checkout/set-up-a-subscription#tax-rates) to collect tax.\n\nRelated guide: [Tax Rates](https://stripe.com/docs/billing/taxes/tax-rates).",
        "properties": {
          "active": {
            "description": "Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.",
            "type": "boolean"
          },
          "country": {
            "description": "Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).",
            "maxLength": 5000,
            "type": [
              "string",
              "null"
            ]
          },
          "created": {
            "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
            "format": "unix-time",
            "type": "integer"
          },
          "description": {
            "description": "An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.",
            "maxLength": 5000,
            "type": [
              "string",
              "null"
            ]
          },
          "display_name": {
            "description": "The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.",
            "maxLength": 5000,
            "type": "string"
          },
          "id": {
            "description": "Unique identifier for the object.",
            "maxLength": 5000,
            "type": "string"
          },
          "inclusive": {
            "description": "This specifies if the tax rate is inclusive or exclusive.",
            "type": "boolean"
          },
          "jurisdiction": {
            "description": "The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.",
            "maxLength": 5000,
            "type": [
              "string",
              "null"
            ]
          },
          "livemode": {
            "description": "Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.",
            "type": "boolean"
          },
          "metadata": {},
          "object": {
            "description": "String representing the object's type. Objects of the same type share the same value.",
            "enum": [
              "tax_rate"
            ],
            "type": "string"
          },
          "percentage": {
            "description": "This represents the tax rate percent out of 100.",
            "type": "number"
          },
          "state": {
            "description": "[ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2:US), without country prefix. For example, \"NY\" for New York, United States.",
            "maxLength": 5000,
            "type": [
              "string",
              "null"
            ]
          },
          "tax_type": {
            "description": "The high-level tax type, such as `vat` or `sales_tax`.",
            "enum": [
              "gst",
              "hst",
              "jct",
              "pst",
              "qst",
              "rst",
              "sales_tax",
              "vat",
              null
            ],
            "type": [
              "string",
              "null"
            ]
          }
        },
        "required": [
          "active",
          "created",
          "display_name",
          "id",
          "inclusive",
          "livemode",
          "object",
          "percentage"
        ],
        "title": "TaxRate",
        "type": "object"
      },
      "type": [
        "array",
        "null"
      ]
    },
    "end_date": {
      "description": "The end of this phase of the subscription schedule.",
      "format": "unix-time",
      "type": "integer"
    },
    "invoice_settings": {
      "anyOf": [
        {
          "description": "",
          "properties": {
            "days_until_due": {
              "description": "Number of days within which a customer must pay invoices generated by this subscription schedule. This value will be `null` for subscription schedules where `billing=charge_automatically`.",
              "type": [
                "integer",
                "null"
              ]
            }
          },
          "title": "InvoiceSettingSubscriptionScheduleSetting",
          "type": "object"
        },
        {
          "type": "null"
        }
      ],
      "description": "The invoice settings applicable during this phase."
    },
    "items": {
      "description": "Subscription items to configure the subscription to during this phase of the subscription schedule.",
      "items": {
        "description": "A phase item describes the price and quantity of a phase.",
        "properties": {
          "billing_thresholds": {
            "anyOf": [
              {
                "description": "",
                "properties": {
                  "usage_gte": {
                    "description": "Usage threshold that triggers the subscription to create an invoice",
                    "type": [
                      "integer",
                      "null"
                    ]
                  }
                },
                "title": "SubscriptionItemBillingThresholds",
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "description": "Define thresholds at which an invoice will be sent, and the related subscription advanced to a new billing period"
          },
          "price": {
            "anyOf": [
              {
                "maxLength": 5000,
                "type": "string"
              }
            ],
            "description": "ID of the price to which the customer should be subscribed."
          },
          "quantity": {
            "description": "Quantity of the plan to which the customer should be subscribed.",
            "type": "integer"
          },
          "tax_rates": {
            "description": "The tax rates which apply to this `phase_item`. When set, the `default_tax_rates` on the phase do not apply to this `phase_item`.",
            "items": {
              "description": "Tax rates can be applied to [invoices](https://stripe.com/docs/billing/invoices/tax-rates), [subscriptions](https://stripe.com/docs/billing/subscriptions/taxes) and [Checkout Sessions](https://stripe.com/docs/payments/checkout/set-up-a-subscription#tax-rates) to collect tax.\n\nRelated guide: [Tax Rates](https://stripe.com/docs/billing/taxes/tax-rates).",
              "properties": {
                "active": {
                  "description": "Defaults to `true`. When set to `false`, this tax rate cannot be used with new applications or Checkout Sessions, but will still work for subscriptions and invoices that already have it set.",
                  "type": "boolean"
                },
                "country": {
                  "description": "Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).",
                  "maxLength": 5000,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "created": {
                  "description": "Time at which the object was created. Measured in seconds since the Unix epoch.",
                  "format": "unix-time",
                  "type": "integer"
                },
                "description": {
                  "description": "An arbitrary string attached to the tax rate for your internal use only. It will not be visible to your customers.",
                  "maxLength": 5000,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "display_name": {
                  "description": "The display name of the tax rates as it will appear to your customer on their receipt email, PDF, and the hosted invoice page.",
                  "maxLength": 5000,
                  "type": "string"
                },
                "id": {
                  "description": "Unique identifier for the object.",
                  "maxLength": 5000,
                  "type": "string"
                },
                "inclusive": {
                  "description": "This specifies if the tax rate is inclusive or exclusive.",
                  "type": "boolean"
                },
                "jurisdiction": {
                  "description": "The jurisdiction for the tax rate. You can use this label field for tax reporting purposes. It also appears on your customer’s invoice.",
                  "maxLength": 5000,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "livemode": {
                  "description": "Has the value `true` if the object exists in live mode or the value `false` if the object exists in test mode.",
                  "type": "boolean"
                },
                "metadata": {},
                "object": {
                  "description": "String representing the object's type. Objects of the same type share the same value.",
                  "enum": [
                    "tax_rate"
                  ],
                  "type": "string"
                },
                "percentage": {
                  "description": "This represents the tax rate percent out of 100.",
                  "type": "number"
                },
                "state": {
                  "description": "[ISO 3166-2 subdivision code](https://en.wikipedia.org/wiki/ISO_3166-2:US), without country prefix. For example, \"NY\" for New York, United States.",
                  "maxLength": 5000,
                  "type": [
                    "string",
                    "null"
                  ]
                },
                "tax_type": {
                  "description": "The high-level tax type, such as `vat` or `sales_tax`.",
                  "enum": [
                    "gst",
                    "hst",
                    "jct",
                    "pst",
                    "qst",
                    "rst",
                    "sales_tax",
                    "vat",
                    null
                  ],
                  "type": [
                    "string",
                    "null"
                  ]
                }
              },
              "required": [
                "active",
                "created",
                "display_name",
                "id",
                "inclusive",
                "livemode",
                "object",
                "percentage"
              ],
              "title": "TaxRate",
              "type": "object"
            },
            "type": [
              "array",
              "null"
            ]
          }
        },
        "required": [
          "price"
        ],
        "title": "SubscriptionScheduleConfigurationItem",
        "type": "object"
      },
      "type": "array"
    },
    "proration_behavior": {
      "description": "If the subscription schedule will prorate when transitioning to this phase. Possible values are `create_prorations` and `none`.",
      "enum": [
        "always_invoice",
        "create_prorations",
        "none"
      ],
      "type": "string"
    },
    "start_date": {
      "description": "The start of this phase of the subscription schedule.",
      "format": "unix-time",
      "type": "integer"
    },
    "transfer_data": {
      "anyOf": [
        {
          "description": "",
          "properties": {
            "amount_percent": {
              "description": "A non-negative decimal between 0 and 100, with at most two decimal places. This represents the percentage of the subscription invoice subtotal that will be transferred to the destination account. By default, the entire amount is transferred to the destination.",
              "type": [
                "number",
                "null"
              ]
            },
            "destination": {
              "anyOf": [
                {
                  "maxLength": 5000,
                  "type": "string"
                }
              ],
              "description": "The account where funds from the payment will be transferred to upon payment success."
            }
          },
          "required": [
            "destination"
          ],
          "title": "SubscriptionTransferData",
          "type": "object"
        },
        {
          "type": "null"
        }
      ],
      "description": "The account (if any) the associated subscription's payments will be attributed to for tax reporting, and where funds from each payment will be transferred to for each of the subscription's invoices."
    },
    "trial_end": {
      "description": "When the trial ends within the phase.",
      "format": "unix-time",
      "type": [
        "integer",
        "null"
      ]
    }
  },
  "required": [
    "add_invoice_items",
    "end_date",
    "items",
    "proration_behavior",
    "start_date"
  ],
  "title": "SubscriptionSchedulePhaseConfiguration",
  "type": "object",
  "default": {
    "add_invoice_items": [
      {
        "price": "string",
        "quantity": 0,
        "tax_rates": [
          {
            "active": true,
            "country": "string",
            "created": 0,
            "description": "string",
            "display_name": "string",
            "id": "string",
            "inclusive": true,
            "jurisdiction": "string",
            "livemode": true,
            "metadata": {},
            "object": "tax_rate",
            "percentage": 0,
            "state": "string",
            "tax_type": "gst"
          }
        ]
      }
    ],
    "application_fee_percent": 0,
    "automatic_tax": {
      "enabled": true
    },
    "billing_cycle_anchor": "automatic",
    "billing_thresholds": {
      "amount_gte": 0,
      "reset_billing_cycle_anchor": true
    },
    "collection_method": "charge_automatically",
    "coupon": "string",
    "default_payment_method": "string",
    "default_tax_rates": [
      {
        "active": true,
        "country": "string",
        "created": 0,
        "description": "string",
        "display_name": "string",
        "id": "string",
        "inclusive": true,
        "jurisdiction": "string",
        "livemode": true,
        "metadata": {},
        "object": "tax_rate",
        "percentage": 0,
        "state": "string",
        "tax_type": "gst"
      }
    ],
    "end_date": 0,
    "invoice_settings": {
      "days_until_due": 0
    },
    "items": [
      {
        "billing_thresholds": {
          "usage_gte": 0
        },
        "price": "string",
        "quantity": 0,
        "tax_rates": [
          {
            "active": true,
            "country": "string",
            "created": 0,
            "description": "string",
            "display_name": "string",
            "id": "string",
            "inclusive": true,
            "jurisdiction": "string",
            "livemode": true,
            "metadata": {},
            "object": "tax_rate",
            "percentage": 0,
            "state": "string",
            "tax_type": "gst"
          }
        ]
      }
    ],
    "proration_behavior": "always_invoice",
    "start_date": 0,
    "transfer_data": {
      "amount_percent": 0,
      "destination": "string"
    },
    "trial_end": 0
  },
  "$schema": "https://json-schema.org/draft/2020-12/schema"
}